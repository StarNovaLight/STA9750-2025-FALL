---
title: "Mini- Project 1"
author: "Starlette John"
format:
  html:
    theme: vapor 
    code-fold: true
    code-summary: "Show the code"


  


---
<style>
pre {
  color: cyan
}
</style>

Executive Summary: 

Netflix is the number 1 streaming platform in the world. There are a total of 94 countries that streamed Netflix. I had to analyze and research to see the best preforming TV shows and films that took the world by storm. What were the several factors that made a chart-topping hit on Netflix's Top 10? How popular are other countries films/shows on Netflix?  I will tell you, Netflix helps connects people, as people from different cultures are able to find enjoyment of different medias.  




```{r} 


if(!dir.exists(file.path("data", "mp01"))){
    dir.create(file.path("data", "mp01"), showWarnings=FALSE, recursive=TRUE)
}
```

```{r}

GLOBAL_TOP_10_FILENAME <- file.path("data", "mp01", "global_top10_alltime.csv")

if(!file.exists(GLOBAL_TOP_10_FILENAME)){
     download.file("https://www.netflix.com/tudum/top10/data/all-weeks-global.tsv",                    destfile=GLOBAL_TOP_10_FILENAME) 
}
```

```{r}

COUNTRY_TOP_10_FILENAME <- file.path("data", "mp01", "country_top10_alltime.csv")

if(!file.exists(COUNTRY_TOP_10_FILENAME)){
     download.file("https://www.netflix.com/tudum/top10/data/all-weeks-countries.tsv",                    destfile=COUNTRY_TOP_10_FILENAME) 
}
```

```{r}

if(!require("tidyverse")) install.packages("tidyverse") 
library(readr) 
library(dplyr)

GLOBAL_TOP_10 <- read_tsv(GLOBAL_TOP_10_FILENAME)
```

```{r}

str(GLOBAL_TOP_10)
```

```{r}

glimpse(GLOBAL_TOP_10)
```

```{r}

GLOBAL_TOP_10 <- GLOBAL_TOP_10 |>
    mutate(season_title = if_else(season_title=="N/A",NA,season_title))
```   

```{r}


glimpse(GLOBAL_TOP_10)
```

```{r}


COUNTRY_TOP_10 <- read_tsv(COUNTRY_TOP_10_FILENAME)

```

```{r}


library(DT)
GLOBAL_TOP_10 |> 
    head(n=20) |>
    datatable(style='bootstrap5',options=list(searching=FALSE, info=FALSE))
   

library(stringr)
format_titles <- function(df){
    colnames(df) <- str_replace_all(colnames(df), "_", " ") |> str_to_title()
    df
}
```

```{r}
GLOBAL_TOP_10 |> 
    format_titles() |>
    head(n=20) |>
    datatable(style='bootstrap5',options=list(searching=FALSE, info=FALSE)) |>
    formatRound(c('Weekly Hours Viewed', 'Weekly Views'))
```

```{r} 
GLOBAL_TOP_10 |> 
    select(-season_title) |>
    format_titles() |>
    head(n=20) |>
    datatable(style='bootstrap5',options=list(searching=FALSE, info=FALSE)) |>
    formatRound(c('Weekly Hours Viewed', 'Weekly Views'))

```

```{r}
GLOBAL_TOP_10 |> 
    mutate(`runtime_(minutes)` = round(60 * runtime)) |>
    select(-season_title, 
           -runtime) |>
    format_titles() |>
    head(n=20) |>
    datatable(style='bootstrap5',options=list(searching=FALSE, info=FALSE)) |>
    formatRound(c('Weekly Hours Viewed', 'Weekly Views'))
```




Press Release's:




```{r}


num_countries<-COUNTRY_TOP_10|>
  summarize(total_countries=sum(n_distinct(country_name)))|>
  ungroup()
  




  

  num_countries

```


Netflix has a lot of influence all over the world, as currently I found that are a total of [`r num_countries`]{style='color:cyan;'}  countries. This show that Netflix has the impacted and influence world's entertainment streaming services.





```{r}

 popular_Non_English<- GLOBAL_TOP_10 |> 
   filter(category == "Films (Non-English)")|>
   group_by(show_title)|>
   summarize(most_weeks=max(cumulative_weeks_in_top_10))|>
   slice_max(most_weeks,n=1)

  


  

    

popular_Non_English     
 
  
```
Netflix is a streaming platform, that help viewers enjoy other countries movies, with the provided subtitles and connects people. For instance the Non-English film that spent the most weeks in the Global top 10 on Netflix is the [`r popular_Non_English$show_title`]{style='color:cyan;'}, as it spent consecutive [`r popular_Non_English$most_weeks`]{style='color:cyan;'} in the charts.
 

```{r}

longest_run<-GLOBAL_TOP_10|>
  group_by(show_title)|>
  filter(category=='Films (English)')|>
  summarize(longest_film=max(60 *runtime))|>
  slice_max(longest_film)
 
  

longest_run


```
```{r}

longest_run2<-GLOBAL_TOP_10|>
  group_by(show_title)|>
  filter(category=='Films (Non-English)')|>
  summarize(longest_film=max(round(60 *runtime)))|>
  slice_max(longest_film)
 
  

longest_run2
```


Netflix longest running film is [`r longest_run2$show_title`]{style='color:cyan;'}. It's approximately about s [`r longest_run2$longest_film`]{style='color:cyan;'}  minutes long, providing almost 4 hours of entertainment.
  

 
```{r}
most_popular<-GLOBAL_TOP_10|>
  group_by(category,show_title)|>
  summarize(highest_hours_global_viewership=sum(weekly_hours_viewed))|>
              slice_max(highest_hours_global_viewership, n=1) |>
  format_titles() |>
  head(n=20) |>
  datatable(style='bootstrap5',options=list(searching=FALSE, info=FALSE)) |>
  formatRound(c('Highest Hours Global Viewership'))
 
  

most_popular
```

The shows/films that gained the most hours viewed are Kpop Demon Hunters, Society of the Snow, Stranger Things and Squid Game. These four programs took the world by storm in their respective categories.




```{r}

longest_country_run<-COUNTRY_TOP_10|>
  group_by(country_name,show_title)|>
  filter(category=='TV')|>
  summarize(longest_run=max(cumulative_weeks_in_top_10))|>
  ungroup()|>
  slice_max(longest_run, n=1)
  
 
  longest_country_run

  





```

The show that had the longest run the top 10 would be [`r longest_country_run$show_title`]{style='color:cyan;'} in  [`r longest_country_run$country_name`]{style='color:cyan;'}. As the show spent approximately about  [`r longest_country_run$longest_run`]{style='color:cyan;'} weeks remaining in the country's top 10 on Netflix.


```{r}


lost_weeks<- COUNTRY_TOP_10|>
  group_by(country_name)|>
  summarize(week_of_data=n_distinct(week))|>
  ungroup()|>
  slice_min(week_of_data)



lost_weeks
```
 Something interesting is while most countries have enormous amount of data to work, only one is missing a substantial amount. [`r lost_weeks$country_name`]{style='color:cyan;'} is the only country that appear to be missing a large chunk of values. As of right now Russia has a total of [`r lost_weeks$week_of_data`]{style='color:cyan;'} weeks of data.



```{r}

views_gained<-GLOBAL_TOP_10|>
  group_by(show_title)|>
  filter(show_title=="Squid Game")|>
  summarize(total_views=sum(weekly_hours_viewed,na.rm=TRUE) /sum(runtime,na.rm=TRUE))



views_gained


```
Squid Game once again proves to be a record-breaking show, as of right now the total views the show gained has been about views [`r views_gained$total_views`]{style='color:cyan;'} or otherwise known as almost 20 million views



```{r}

Red_Notice_views<-GLOBAL_TOP_10|>
  filter(show_title=='Red Notice',year(week)==2021)|>
  summarize(total_views=(sum(weekly_hours_viewed,na.rm=TRUE) / 118))




Red_Notice_views
```

Red Notice was the number 1 movie that  took over Netflix back in 2021, with an impressive viewership of about [`r Red_Notice_views`]{style='color:cyan;'}  people worldwide.




```{r}
Number_1<-COUNTRY_TOP_10|>
  group_by(week,show_title,season_title)|>
  filter(country_name=='United States',category=='Films',(weekly_rank!=1)==(cumulative_weeks_in_top_10==1),year(week)==2025)|>
  summarize(weeks_to_1=cumulative_weeks_in_top_10,is_number_1=sum(weekly_rank==1)) |>
  filter(is_number_1==1)|>
  ungroup()|>
  format_titles() |>
  datatable(style='bootstrap5',options=list(searching=FALSE, info=FALSE)) 
 
 

  
 



 
 
Number_1

  
```

```{r}
#| output: false
shows<-COUNTRY_TOP_10|>
  group_by(week,show_title)|>
  filter(country_name=='United States',category=='Films',(weekly_rank!=1)==(cumulative_weeks_in_top_10==1),year(week)==2025)|>
  select(-season_title)|>
  summarize(weeks_to_1=cumulative_weeks_in_top_10,is_number_1=sum(weekly_rank==1)) |>
  filter(is_number_1==1)|>
  ungroup()
 


 shows                           
```
```{r}
shows_total<-shows|>
  summarize(sum(n_distinct(show_title)))|>
   ungroup()

shows_total
```


The most recent film to reach number 1 that has never been there before was Unknown Number: The High School Catfish. It appears once on the list when looking at the most recent weeks of when these shows reached #1 as took 2 weeks. However, repeated films come up in the data as sometimes they would reclaim the number #1 spot after being dethrone. However there is a total of [`r shows_total`]{style='color:cyan'} films that didn’t debut at number 1.




```{r}

COUNTRY_TOP_10|>
  group_by(show_title,season_title)|>
  filter(cumulative_weeks_in_top_10==1,category=='TV')|>
  summarize(total_countries=sum(n_distinct(country_name)))|>
  ungroup()|>
 slice_max(total_countries, n=1) |>
  format_titles() |>
  datatable(style='bootstrap5',options=list(searching=FALSE, info=FALSE)) 
 


```

In the list above shows the number of TV shows and their respective season that made it on the top 10 Netflix list in their debut week in the most countries.




```{r}


Stranger_Things<-GLOBAL_TOP_10 |> group_by(show_title)|>filter(show_title == "Stranger Things") |>  
summarize(total_hours=sum(weekly_hours_viewed),Most_cumulative_weeks=max(cumulative_weeks_in_top_10),number_of_times_rank_1=sum(weekly_rank==1))

  
Stranger_Things

```


Press Release 1 : Stranger Things is Back and Bigger than Ever Before : 

Stranger Things is back and bigger than ever before. Join us and let’s watch the fifth season of our favorite shows.  It's a global hit that mixes fantasy, sci-fi, adventure and drama into one of the most suspenseful shows you'll ever witness. It's a known fact that Stranger Things is one of Netflix biggest players, with a total of [`r Stranger_Things$Most_cumulative_weeks`]{style='color:cyan;'} cumulative weeks in the top 10. Globally been watch for [`r Stranger_Things$total_hours`]{style='color:cyan;'} hours. Ranked [`r Stranger_Things$number_of_times_rank_1`]{style='color:cyan;'} times in the 1 spot on Netflix's top 10.  Netflix biggest show is back and watch your favorite cast reunite once again. You don't want to miss it.





```{r}

India_Media<- COUNTRY_TOP_10|>
  group_by(show_title)|>
  filter(country_name=='India',country_name!='United States', category=='Films')|>
  summarize(most_popular=max(cumulative_weeks_in_top_10))|>
  slice_max(most_popular, n=10)|>
  format_titles() |>
  datatable(style='bootstrap5',options=list(searching=FALSE, info=FALSE)) 
 
 
India_Media
  


```
```{r}

first_show<-GLOBAL_TOP_10|>
  group_by(show_title)|>
  filter(show_title=='	Animal')|>
  summarize(total_viewers=sum(weekly_hours_viewed)/sum(runtime),total_weekly_views=sum(weekly_views))
first_show
```
```{r}

second_show<-GLOBAL_TOP_10|>
  group_by(show_title)|>
  filter(show_title=='	Haseen Dillruba')|>
  summarize(total_weekly_hours=sum(weekly_hours_viewed),total_weekly_views=sum(weekly_views,na.rm=TRUE))
second_show
```

Press Release: India Most Popular Hindi Films.

Netflix have a variety of shows and films that comes from different cultures. I took the opportunity to go watch some Hindi language films. I was the most popular Hindi language films such as	Animal and Haseen Dillruba. For instance Animal has a total of over [`r first_show$total_viewers`]{style='color:cyan;'}  viewers when on the top 10 and a total of [`r first_show$total_weekly_views`]{style='color:cyan;'} weekly views. 	Haseen Dillruba has [`r second_show$total_weekly_hours`]{style='color:cyan;'} hours watched.  These films were completely in Hindi, but don't worry if you want to watch films that are in a different language subtitles are very useful. These films entertained me and brought me joy to watch.




```{r}

COUNTRY_TOP_10|>
  group_by(show_title)|>
  filter(country_name=='South Korea')|>
  summarize(number_of_weeks_in_1_spot=sum(weekly_rank==1),number_of_weeks_in_consecutively_top_10=max(cumulative_weeks_in_top_10))|>
  slice_max(number_of_weeks_in_1_spot, n=10)|>
  format_titles()|>
   datatable(style='bootstrap5',options=list(searching=FALSE, info=FALSE))

 


```

```{r} 
GLOBAL_TOP_10|>
  group_by(show_title)|>
  summarize(number_of_weeks_in_1_spot=sum(weekly_rank==1),number_of_weeks_in_consecutively_top_10=max(cumulative_weeks_in_top_10))|>
  slice_max(number_of_weeks_in_1_spot, n=10)|>
  format_titles()|>
  datatable(style='bootstrap5',options=list(searching=FALSE, info=FALSE))
```
 
 Press Release 3: South Korea is now becoming a leading force in the entertainment industry:
 
Within the past decade you seen a rise of K-pop and Kdrama becoming popular all over the world. On Netflix Kdrama are taking the world by storm. South Korea most popular show is of course Squid Game as show originated from South Korea, this show charted 10 weeks in the number 1 top 10 Netflix list and been cumulatively in the top 10 list for 19 weeks. Another interesting in this list is that all these shows are Korean based, yet charted so well all over the world.
 
Three of South Korea most popular top list program appear on the global top 10 list as well. Such as Squid Game, Kpop Demon Hunters and Extraordinary Attorney Woo; which are shows that were made for both South Korean and international fanbases. This shows that South Korea is becoming a main player in the world entertainment media.  

Published on `r Sys.Date()`
